<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Knockout : Binding context</title>
        <link href="../css/tripoli.simple.css" type="text/css" rel="stylesheet" />
        
        <link rel="stylesheet" type="text/css" href="../css/styles.css" />
        <link rel="stylesheet" type="text/css" href="../css/smallScreen.css" media="only screen and (max-device-width: 800px)" />
        <link rel="shortcut icon" href="img/favicon.ico" />
        <!--[if IE]><link rel="stylesheet" type="text/css" href="../css/tripoli.simple.ie.css" /><![endif]-->
        <!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="../css/ie6ie7.css" /><![endif]-->
        <!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="../css/ie6.css" /><![endif]-->
        <script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../js/knockout-2.2.0.js"></script>
<script type="text/javascript" src="../js/cufon-yui.js"></script>
<script type="text/javascript" src="../js/titilliummaps.font.js"></script>
<script type="text/javascript" src="../js/json2.js"></script>

<!--[if lt IE 7]>
<script defer type="text/javascript" src="../js/ie6pngfix.js"></script>
<![endif]-->

<script type="text/javascript" src="../js/syntaxhighlighter_3.0.83/scripts/shCore.js"></script> 
<script type="text/javascript" src="../js/syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script> 
<script type="text/javascript" src="../js/syntaxhighlighter_3.0.83/scripts/shBrushXml.js"></script> 
<link type="text/css" rel="stylesheet" href="../js/syntaxhighlighter_3.0.83/styles/shThemeFadeToGrey.css"/>  

<script type="text/javascript">
    $(function() {
        // Fancy fonts
        Cufon.replace('.titillium');
        Cufon.replace('.engraved', {
            textShadow: 'rgba(253, 224, 217, 0.45) 1.2px 1px'	
        });
        
        // Syntax highlighting
        $("pre > code").each(function() {
            var codeText = $(this).text();
            $(this).parent().text(codeText).addClass("brush:js");
        });
        SyntaxHighlighter.defaults['toolbar'] = false;
        SyntaxHighlighter.defaults['gutter'] = false;
        SyntaxHighlighter.all();
        
        // Highlight current top menu item
        var desiredMenuItem = '' || 'documentation';
        $(".main-menu a[rel=" + desiredMenuItem + "]").addClass("active");
        
        // Highlight current left-hand-nav menu item
        var urlFilename = location.href.match(/\/([^\/]+)$/);
        if (urlFilename) {
            $(".leftColContents li:has(a[href$=" + urlFilename[1] + "])").addClass("active");
        }
    });
</script> 
    </head>
    <body>
        <div id="wrapper">
            <div class="vspace"></div>
            <div class="main-menu">
    <ul>
        <li><a rel="home" href="../index.html">Home</a></li>
        <li><a rel="installation" href="../downloads/index.html">Download / Install</a></li>
        <li><a rel="tutorials" href="http://learn.knockoutjs.com/">Tutorials</a></li>
        <li><a rel="examples" href="../examples/">Live examples</a></li>
        <li><a rel="documentation" href="../documentation/introduction.html">Documentation</a></li>
        <li><a href="http://groups.google.com/group/knockoutjs">Forum</a></li>
        <li><a href="http://github.com/SteveSanderson/knockout">Source</a></li>
    </ul>
</div>        	
<div class="clear"></div>
            <div class="vspace"></div>
            <div>	
	<div class="leftCol">		
		<div class="leftColBackground">&nbsp;</div>
		<div class="leftColContents">
			<h1>Getting started</h1>

<ol>
    <li><a href="../documentation/introduction.html">How KO works and what benefits it brings</a></li>
    <li><a href="../downloads/index.html">Downloading and installing</a></li>
</ol>

<h1>Observables</h1>

<ol>
    <li><a href="../documentation/observables.html">Creating <em>view models</em> with <em>observables</em></a></li>
    <li><a href="../documentation/computedObservables.html">Using <em>computed observables</em></a></li>
    <li><a href="../documentation/observableArrays.html">Working with <em>observable arrays</em></a></li>	
</ol>

<h1>Bindings</h1>

<h2>Controlling text and appearance</h2>
<ol>
    <li><a href="../documentation/visible-binding.html">The <code>visible</code> binding</a></li>
    <li><a href="../documentation/text-binding.html">The <code>text</code> binding</a></li>
    <li><a href="../documentation/html-binding.html">The <code>html</code> binding</a></li>
    <li><a href="../documentation/css-binding.html">The <code>css</code> binding</a></li>
    <li><a href="../documentation/style-binding.html">The <code>style</code> binding</a></li>
    <li><a href="../documentation/attr-binding.html">The <code>attr</code> binding</a></li>
</ol>

<h2>Control flow</h2>
<ol>
    <li><a href="../documentation/foreach-binding.html">The <code>foreach</code> binding</a></li>
    <li><a href="../documentation/if-binding.html">The <code>if</code> binding</a></li>
    <li><a href="../documentation/ifnot-binding.html">The <code>ifnot</code> binding</a></li>
    <li><a href="../documentation/with-binding.html">The <code>with</code> binding</a></li>
</ol>

<h2>Working with form fields</h2>
<ol>
    <li><a href="../documentation/click-binding.html">The <code>click</code> binding</a></li>
    <li><a href="../documentation/event-binding.html">The <code>event</code> binding</a></li>
    <li><a href="../documentation/submit-binding.html">The <code>submit</code> binding</a></li>
    <li><a href="../documentation/enable-binding.html">The <code>enable</code> binding</a></li>
    <li><a href="../documentation/disable-binding.html">The <code>disable</code> binding</a></li>
    <li><a href="../documentation/value-binding.html">The <code>value</code> binding</a></li>
    <li><a href="../documentation/hasfocus-binding.html">The <code>hasfocus</code> binding</a></li>
    <li><a href="../documentation/checked-binding.html">The <code>checked</code> binding</a></li>
    <li><a href="../documentation/options-binding.html">The <code>options</code> binding</a></li>
    <li><a href="../documentation/selectedOptions-binding.html">The <code>selectedOptions</code> binding</a></li>    
    <li><a href="../documentation/uniqueName-binding.html">The <code>uniqueName</code> binding</a></li>		
</ol>

<h2>Rendering templates</h2>
<ol>
    <li><a href="../documentation/template-binding.html">The <code>template</code> binding</a></li>
</ol>

<h2>Binding syntax</h2>
<ol>
    <li><a href="../documentation/binding-syntax.html">The <code>data-bind</code> syntax</a></li>
    <li><a href="../documentation/binding-context.html">The binding context</a></li>
</ol>

<h1>Creating custom bindings</h1>
<ol>
    <li><a href="../documentation/custom-bindings.html">Creating custom bindings</a></li>
    <li><a href="../documentation/custom-bindings-controlling-descendant-bindings.html">Controlling descendant bindings</a></li>
    <li><a href="../documentation/custom-bindings-for-virtual-elements.html">Supporting virtual elements</a></li>
</ol>

<h1>Further techniques</h1>
<ol>
    <li><a href="../documentation/json-data.html">Loading and saving JSON data</a></li>
    <li><a href="../documentation/extenders.html">Extending observables</a></li>
    <li><a href="../documentation/throttle-extender.html">The <code>throttle</code> extender</a></li>
    <li><a href="../documentation/unobtrusive-event-handling.html">Unobtrusive event handling</a></li>
    <li><a href="../documentation/fn.html">Using <code>fn</code> to add custom functions</a></li>
</ol>

<h1>Plugins</h1>
<ol>
    <li><a href="../documentation/plugins-mapping.html">The <code>mapping</code> plugin</a></li>
</ol>

<h1>More information</h1>
<ol>
    <li><a href="../documentation/browser-support.html">Browser support</a></li>
    <li><a href="http://groups.google.com/group/knockoutjs">Getting help</a></li>
    <li><a href="../documentation/links.html">Links to tutorials &amp; examples</a></li>
    <li><a href="../documentation/amd-loading.html">Usage with AMD using RequireJs (Asynchronous Module Definition)</a></li>
</ol>

		</div>		
	</div>
	<div class="rightCol">
		<div class="documentation sticker">
		    <div class="content">
		    	<h1>Binding context</h1>	
		    	<p>A <em>binding context</em> is an object that holds data that you can reference from your bindings. While applying bindings, Knockout automatically creates and manages a hierarchy of binding contexts. The root level of the hierarchy refers to the <code>viewModel</code> parameter you supplied to <code>ko.applyBindings(viewModel)</code>. Then, each time you use a control flow binding such as <a href='with-binding.html'><code>with</code></a> or <a href='foreach-binding.html'><code>foreach</code></a>, that creates a child binding context that refers to the nested view model data.</p>

<p>Bindings contexts offer the following special properties that you can reference in any binding:</p>

<ul>
<li>
<p><code>$parent</code></p>

<p>This is the view model object in the parent context, the one immeditely outside the current context. In the root context, this is undefined. Example:</p>

<pre><code>  &lt;h1 data-bind=&quot;text: name&quot;&gt;&lt;/h1&gt;

  &lt;div data-bind=&quot;with: manager&quot;&gt;
      &lt;!-- Now we&#39;re inside a nested binding context --&gt;
      &lt;span data-bind=&quot;text: name&quot;&gt;&lt;/span&gt; is the
      manager of &lt;span data-bind=&quot;text: $parent.name&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;</code></pre>
</li>

<li>
<p><code>$parents</code></p>

<p>This is an array representing all of the parent view models:</p>

<p><code>$parents[0]</code> is the view model from the parent context (i.e., it&#8217;s the same as <code>$parent</code>)</p>

<p><code>$parents[1]</code> is the view model from the grandparent context</p>

<p><code>$parents[2]</code> is the view model from the great-grandparent context</p>

<p>&#8230; and so on.</p>
</li>

<li>
<p><code>$root</code></p>

<p>This is the main view model object in the root context, i.e., the topmost parent context. It is equivalent to <code>$parents[$parents.length - 1]</code>.</p>
</li>

<li>
<p><code>$data</code></p>

<p>This is the view model object in the current context. In the root context, <code>$data</code> and <code>$root</code> are equivalent. <code>$data</code> is useful when you don&#8217;t want to reference a property on the viewmodel, but instead want to reference the viewmodel itself. Example:</p>

<pre><code>  &lt;ul data-bind=&quot;foreach: [&#39;cats&#39;, &#39;dogs&#39;, &#39;fish&#39;]&quot;&gt;
      &lt;li&gt;The value is &lt;span data-bind=&quot;text: $data&quot;&gt;&lt;/span&gt;&lt;/li&gt;
  &lt;/ul&gt;</code></pre>
</li>

<li>
<p><code>$index</code> (only available within <code>foreach</code> bindings)</p>

<p>This is the zero-based index of the current array entry being rendered by a <code>foreach</code> binding. Unlike the other binding context properties, <code>$index</code> is an observable and is updated whenever the index of the item changes (e.g., if items are added to or removed from the array).</p>
</li>

<li>
<p><code>$parentContext</code></p>

<p>This refers to the binding context object at the parent level. This is different from <code>$parent</code>, which refers to the <em>data</em> (not binding context) at the parent level. This is useful, for example, if you need to access the index value of an outer <code>foreach</code> item from an inner context (usage: <code>$parentContext.$index</code>). This is undefined in the root context.</p>
</li>
</ul>

<p>The following special variables are also available in bindings, but are not part of the binding context object:</p>

<ul>
<li>
<p><code>$context</code></p>

<p>This refers to the current binding context object. This may be useful if you want to access properties of the context when they might also exist in the view model, or if you want to pass the context object to a helper function in your view model.</p>
</li>

<li>
<p><code>$element</code></p>

<p>This is the element DOM object (for virtual elements, it will be the comment DOM object) of the current binding. This can be useful if a binding needs to access an attribute of the current element. Example:</p>

<pre><code>  &lt;div id=&quot;item1&quot; data-bind=&quot;text: $element.id&quot;&gt;&lt;/div&gt;</code></pre>
</li>
</ul>

<h3 id='controlling_or_modifying_the_binding_context_in_custom_bindings'>Controlling or modifying the binding context in custom bindings</h3>

<p>Just like the built-in bindings <a href='with-binding.html'><code>with</code></a> and <a href='foreach-binding.html'><code>foreach</code></a>, custom bindings can change the binding context for their descendant elements, or provide special properties by extending the binding context object. This is described in detail under <a href='custom-bindings-controlling-descendant-bindings.html'>creating custom bindings that control descendant bindings</a>.</p>    
		    </div>
		    
		    <div class="clear"></div>
		</div>
	</div>	
</div>
            <div class="clear"></div>
            <div class="main-menu">
    <ul>
        <li><a rel="home" href="../index.html">Home</a></li>
        <li><a rel="installation" href="../downloads/index.html">Download / Install</a></li>
        <li><a rel="tutorials" href="http://learn.knockoutjs.com/">Tutorials</a></li>
        <li><a rel="examples" href="../examples/">Live examples</a></li>
        <li><a rel="documentation" href="../documentation/introduction.html">Documentation</a></li>
        <li><a href="http://groups.google.com/group/knockoutjs">Forum</a></li>
        <li><a href="http://github.com/SteveSanderson/knockout">Source</a></li>
    </ul>
</div>        	
<div class="clear"></div>
        </div>
        
        <div id="page-footer">(c) knockoutjs.com</div> 
        
        <script type="text/javascript">               
            // Analytics
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-65756-7']);
            _gaq.push(['_trackPageview']);	
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();             
        </script>
    </body>
</html>