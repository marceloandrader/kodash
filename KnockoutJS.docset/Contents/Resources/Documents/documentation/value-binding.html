<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Knockout : The "value" binding</title>
        <link href="../css/tripoli.simple.css" type="text/css" rel="stylesheet" />
        
        <link rel="stylesheet" type="text/css" href="../css/styles.css" />
        <link rel="stylesheet" type="text/css" href="../css/smallScreen.css" media="only screen and (max-device-width: 800px)" />
        <link rel="shortcut icon" href="img/favicon.ico" />
        <!--[if IE]><link rel="stylesheet" type="text/css" href="../css/tripoli.simple.ie.css" /><![endif]-->
        <!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="../css/ie6ie7.css" /><![endif]-->
        <!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="../css/ie6.css" /><![endif]-->
        <script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../js/knockout-2.2.0.js"></script>
<script type="text/javascript" src="../js/cufon-yui.js"></script>
<script type="text/javascript" src="../js/titilliummaps.font.js"></script>
<script type="text/javascript" src="../js/json2.js"></script>

<!--[if lt IE 7]>
<script defer type="text/javascript" src="../js/ie6pngfix.js"></script>
<![endif]-->

<script type="text/javascript" src="../js/syntaxhighlighter_3.0.83/scripts/shCore.js"></script> 
<script type="text/javascript" src="../js/syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script> 
<script type="text/javascript" src="../js/syntaxhighlighter_3.0.83/scripts/shBrushXml.js"></script> 
<link type="text/css" rel="stylesheet" href="../js/syntaxhighlighter_3.0.83/styles/shThemeFadeToGrey.css"/>  

<script type="text/javascript">
    $(function() {
        // Fancy fonts
        Cufon.replace('.titillium');
        Cufon.replace('.engraved', {
            textShadow: 'rgba(253, 224, 217, 0.45) 1.2px 1px'	
        });
        
        // Syntax highlighting
        $("pre > code").each(function() {
            var codeText = $(this).text();
            $(this).parent().text(codeText).addClass("brush:js");
        });
        SyntaxHighlighter.defaults['toolbar'] = false;
        SyntaxHighlighter.defaults['gutter'] = false;
        SyntaxHighlighter.all();
        
        // Highlight current top menu item
        var desiredMenuItem = '' || 'documentation';
        $(".main-menu a[rel=" + desiredMenuItem + "]").addClass("active");
        
        // Highlight current left-hand-nav menu item
        var urlFilename = location.href.match(/\/([^\/]+)$/);
        if (urlFilename) {
            $(".leftColContents li:has(a[href$=" + urlFilename[1] + "])").addClass("active");
        }
    });
</script> 
    </head>
    <body>
        <div id="wrapper">
            <div class="vspace"></div>
            <div class="main-menu">
    <ul>
        <li><a rel="home" href="../index.html">Home</a></li>
        <li><a rel="installation" href="../downloads/index.html">Download / Install</a></li>
        <li><a rel="tutorials" href="http://learn.knockoutjs.com/">Tutorials</a></li>
        <li><a rel="examples" href="../examples/">Live examples</a></li>
        <li><a rel="documentation" href="../documentation/introduction.html">Documentation</a></li>
        <li><a href="http://groups.google.com/group/knockoutjs">Forum</a></li>
        <li><a href="http://github.com/SteveSanderson/knockout">Source</a></li>
    </ul>
</div>        	
<div class="clear"></div>
            <div class="vspace"></div>
            <div>	
	<div class="leftCol">		
		<div class="leftColBackground">&nbsp;</div>
		<div class="leftColContents">
			<h1>Getting started</h1>

<ol>
    <li><a href="../documentation/introduction.html">How KO works and what benefits it brings</a></li>
    <li><a href="../downloads/index.html">Downloading and installing</a></li>
</ol>

<h1>Observables</h1>

<ol>
    <li><a href="../documentation/observables.html">Creating <em>view models</em> with <em>observables</em></a></li>
    <li><a href="../documentation/computedObservables.html">Using <em>computed observables</em></a></li>
    <li><a href="../documentation/observableArrays.html">Working with <em>observable arrays</em></a></li>	
</ol>

<h1>Bindings</h1>

<h2>Controlling text and appearance</h2>
<ol>
    <li><a href="../documentation/visible-binding.html">The <code>visible</code> binding</a></li>
    <li><a href="../documentation/text-binding.html">The <code>text</code> binding</a></li>
    <li><a href="../documentation/html-binding.html">The <code>html</code> binding</a></li>
    <li><a href="../documentation/css-binding.html">The <code>css</code> binding</a></li>
    <li><a href="../documentation/style-binding.html">The <code>style</code> binding</a></li>
    <li><a href="../documentation/attr-binding.html">The <code>attr</code> binding</a></li>
</ol>

<h2>Control flow</h2>
<ol>
    <li><a href="../documentation/foreach-binding.html">The <code>foreach</code> binding</a></li>
    <li><a href="../documentation/if-binding.html">The <code>if</code> binding</a></li>
    <li><a href="../documentation/ifnot-binding.html">The <code>ifnot</code> binding</a></li>
    <li><a href="../documentation/with-binding.html">The <code>with</code> binding</a></li>
</ol>

<h2>Working with form fields</h2>
<ol>
    <li><a href="../documentation/click-binding.html">The <code>click</code> binding</a></li>
    <li><a href="../documentation/event-binding.html">The <code>event</code> binding</a></li>
    <li><a href="../documentation/submit-binding.html">The <code>submit</code> binding</a></li>
    <li><a href="../documentation/enable-binding.html">The <code>enable</code> binding</a></li>
    <li><a href="../documentation/disable-binding.html">The <code>disable</code> binding</a></li>
    <li><a href="../documentation/value-binding.html">The <code>value</code> binding</a></li>
    <li><a href="../documentation/hasfocus-binding.html">The <code>hasfocus</code> binding</a></li>
    <li><a href="../documentation/checked-binding.html">The <code>checked</code> binding</a></li>
    <li><a href="../documentation/options-binding.html">The <code>options</code> binding</a></li>
    <li><a href="../documentation/selectedOptions-binding.html">The <code>selectedOptions</code> binding</a></li>    
    <li><a href="../documentation/uniqueName-binding.html">The <code>uniqueName</code> binding</a></li>		
</ol>

<h2>Rendering templates</h2>
<ol>
    <li><a href="../documentation/template-binding.html">The <code>template</code> binding</a></li>
</ol>

<h2>Binding syntax</h2>
<ol>
    <li><a href="../documentation/binding-syntax.html">The <code>data-bind</code> syntax</a></li>
    <li><a href="../documentation/binding-context.html">The binding context</a></li>
</ol>

<h1>Creating custom bindings</h1>
<ol>
    <li><a href="../documentation/custom-bindings.html">Creating custom bindings</a></li>
    <li><a href="../documentation/custom-bindings-controlling-descendant-bindings.html">Controlling descendant bindings</a></li>
    <li><a href="../documentation/custom-bindings-for-virtual-elements.html">Supporting virtual elements</a></li>
</ol>

<h1>Further techniques</h1>
<ol>
    <li><a href="../documentation/json-data.html">Loading and saving JSON data</a></li>
    <li><a href="../documentation/extenders.html">Extending observables</a></li>
    <li><a href="../documentation/throttle-extender.html">The <code>throttle</code> extender</a></li>
    <li><a href="../documentation/unobtrusive-event-handling.html">Unobtrusive event handling</a></li>
    <li><a href="../documentation/fn.html">Using <code>fn</code> to add custom functions</a></li>
</ol>

<h1>Plugins</h1>
<ol>
    <li><a href="../documentation/plugins-mapping.html">The <code>mapping</code> plugin</a></li>
</ol>

<h1>More information</h1>
<ol>
    <li><a href="../documentation/browser-support.html">Browser support</a></li>
    <li><a href="http://groups.google.com/group/knockoutjs">Getting help</a></li>
    <li><a href="../documentation/links.html">Links to tutorials &amp; examples</a></li>
    <li><a href="../documentation/amd-loading.html">Usage with AMD using RequireJs (Asynchronous Module Definition)</a></li>
</ol>

		</div>		
	</div>
	<div class="rightCol">
		<div class="documentation sticker">
		    <div class="content">
		    	<h1>The "value" binding</h1>	
		    	<h3 id='purpose'>Purpose</h3>

<p>The <code>value</code> binding links the associated DOM element&#8217;s value with a property on your view model. This is typically useful with form elements such as <code>&lt;input&gt;</code>, <code>&lt;select&gt;</code> and <code>&lt;textarea&gt;</code>.</p>

<p>When the user edits the value in the associated form control, it updates the value on your view model. Likewise, when you update the value in your view model, this updates the value of the form control on screen.</p>

<p>Note: If you&#8217;re working with checkboxes or radio buttons, use <a href='checked-binding.html'>the <code>checked</code> binding</a> to read and write your element&#8217;s checked state, not the <code>value</code> binding.</p>

<h3 id='example'>Example</h3>

<pre><code>&lt;p&gt;Login name: &lt;input data-bind=&quot;value: userName&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Password: &lt;input type=&quot;password&quot; data-bind=&quot;value: userPassword&quot; /&gt;&lt;/p&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    var viewModel = {
		userName: ko.observable(&quot;&quot;),        // Initially blank
		userPassword: ko.observable(&quot;abc&quot;), // Prepopulate
    };
&lt;/script&gt;</code></pre>

<h3 id='parameters'>Parameters</h3>

<ul>
<li>
<p>Main parameter</p>

<p>KO sets the element&#8217;s <code>value</code> property to your parameter value. Any previous value will be overwritten.</p>

<p>If this parameter is an observable value, the binding will update the element&#8217;s value whenever the value changes. If the parameter isn&#8217;t observable, it will only set the element&#8217;s value once and will not update it again later.</p>

<p>If you supply something other than a number or a string (e.g., you pass an object or an array), the displayed text will be equivalent to <code>yourParameter.toString()</code> (that&#8217;s usually not very useful, so it&#8217;s best to supply string or numeric values).</p>

<p>Whenever the user edits the value in the associated form control, KO will update the property on your view model. KO will always attempt to update your view model when the value has been modified and a user transfers focus to another DOM node (i.e., on the <code>change</code> event), but you can also trigger updates based on other events by using the <code>valueUpdate</code> parameter described below.</p>
</li>

<li>
<p>Additional parameters</p>

<ul>
<li>
<p><code>valueUpdate</code></p>

<p>If your binding also includes a parameter called <code>valueUpdate</code>, this defines additional browser events KO should use to detect changes besides the <code>change</code> event. The following string values are the most commonly useful choices:</p>

<ul>
<li><code>&quot;keyup&quot;</code> - updates your view model when the user releases a key</li>

<li><code>&quot;keypress&quot;</code> - updates your view model when the user has typed a key. Unlike <code>keyup</code>, this updates repeatedly while the user holds a key down</li>

<li><code>&quot;afterkeydown&quot;</code> - updates your view model as soon as the user begins typing a character. This works by catching the browser&#8217;s <code>keydown</code> event and handling the event asynchronously.</li>
</ul>

<p>Of these options, <code>&quot;afterkeydown&quot;</code> is the best choice if you want to keep your view model updated in real-time.</p>
</li>
</ul>
</li>
</ul>

<p>Example:</p>

<pre><code>&lt;p&gt;Your value: &lt;input data-bind=&quot;value: someValue, valueUpdate: &#39;afterkeydown&#39;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;You have typed: &lt;span data-bind=&quot;text: someValue&quot;&gt;&lt;/span&gt;&lt;/p&gt; &lt;!-- updates in real-time --&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    var viewModel = {
		someValue: ko.observable(&quot;edit me&quot;)
    };
&lt;/script&gt;   </code></pre>

<h3 id='note_1_working_with_dropdown_lists_ie_select_nodes'>Note 1: Working with drop-down lists (i.e., SELECT nodes)</h3>

<p>Knockout has special support for drop-down lists (i.e., <code>&lt;select&gt;</code> nodes). The <code>value</code> binding works in conjunction with the <code>options</code> binding to let you read and write values that are arbitrary JavaScript objects, not just string values. This is very useful if you want to let the user select from a set of model objects. For examples of this, see <a href='options-binding.html'>the <code>options</code> binding</a> or for handling multi-select lists, see the documentation for <a href='selectedOptions-binding.html'>the <code>selectedOptions</code> binding</a>.</p>

<p>You can also use the <code>value</code> binding with a <code>&lt;select&gt;</code> element that does not use the <code>options</code> binding. In this case, you can choose to specify your <code>&lt;option&gt;</code> elements in markup or build them using the <code>foreach</code> or <code>template</code> bindings. You can even nest options within <code>&lt;optgroup&gt;</code> elements and Knockout will set the selected value appropriately.</p>

<h3 id='note_2_updating_observable_and_nonobservable_property_values'>Note 2: Updating observable and non-observable property values</h3>

<p>If you use <code>value</code> to link a form element to an observable property, KO is able to set up a 2-way binding so that changes to either affect the other.</p>

<p>However, if you use <code>value</code> to link a form element to a <em>non</em>-observable property (e.g., a plain old string, or an arbitrary JavaScript expression), KO will do the following:</p>

<p>* If you reference a <em>simple property</em>, i.e., it is just a regular property on your view model, KO will set the form element&#8217;s initial state to the property value, and when the form element is edited, KO will write the changes back to your property. It cannot detect when the property changes (because it isn&#8217;t observable), so this is only a 1-way binding.</p>

<p>* If you reference something that is <em>not</em> a simple property, e.g., a complex JavaScript expression or a sub-property, KO will set the form element&#8217;s initial state to that value, but it will not be able to write any changes back when the user edits the form element. In this case it&#8217;s a one-time-only value setter, not a real binding.</p>

<p>Example:</p>

<pre><code>&lt;p&gt;First value: &lt;input data-bind=&quot;value: firstValue&quot; /&gt;&lt;/p&gt;          &lt;!-- two-way binding --&gt;
&lt;p&gt;Second value: &lt;input data-bind=&quot;value: secondValue&quot; /&gt;&lt;/p&gt;        &lt;!-- one-way binding --&gt;
&lt;p&gt;Third value: &lt;input data-bind=&quot;value: secondValue.length&quot; /&gt;&lt;/p&gt;  &lt;!-- no binding --&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    var viewModel = {
		firstValue: ko.observable(&quot;hello&quot;), // Observable
		secondValue: &quot;hello, again&quot;         // Not observable
    };
&lt;/script&gt;</code></pre>

<h3 id='dependencies'>Dependencies</h3>

<p>None, other than the core Knockout library.</p>    
		    </div>
		    
		    <div class="clear"></div>
		</div>
	</div>	
</div>
            <div class="clear"></div>
            <div class="main-menu">
    <ul>
        <li><a rel="home" href="../index.html">Home</a></li>
        <li><a rel="installation" href="../downloads/index.html">Download / Install</a></li>
        <li><a rel="tutorials" href="http://learn.knockoutjs.com/">Tutorials</a></li>
        <li><a rel="examples" href="../examples/">Live examples</a></li>
        <li><a rel="documentation" href="../documentation/introduction.html">Documentation</a></li>
        <li><a href="http://groups.google.com/group/knockoutjs">Forum</a></li>
        <li><a href="http://github.com/SteveSanderson/knockout">Source</a></li>
    </ul>
</div>        	
<div class="clear"></div>
        </div>
        
        <div id="page-footer">(c) knockoutjs.com</div> 
        
        <script type="text/javascript">               
            // Analytics
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-65756-7']);
            _gaq.push(['_trackPageview']);	
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();             
        </script>
    </body>
</html>